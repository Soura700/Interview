<div class="upcoming-wrapper">

  <h2 class="page-title">‚è≥ Upcoming Interviews</h2>

  <div *ngIf="loading()" class="loading">Loading...</div>

  <div *ngIf="noData()" class="empty-box">
    No upcoming interviews.
  </div>

  <div class="cards">
    <div class="card" *ngFor="let c of upcoming()">

      <h3>{{ c.candidate?.fullName }}</h3>

      <p><strong>Email:</strong> {{ c.candidate?.email }}</p>

      <p><strong>Scheduled Date:</strong> {{ c.scheduledDate | date:'medium' }}</p>

      <p><strong>Status:</strong> {{ c.status }}</p>

      <!-- Join Meeting Button -->
      <button class="meeting-btn" (click)="openMeeting(c.meetingLink)">
        Join Meeting
      </button>

      <!-- Interview Result Section -->
      <div class="result-section">
        <label><strong>Interview Result:</strong></label>

        <select [(ngModel)]="c.selectedResult">
          <option value="">Select Result</option>
          <option value="Hired">Hired</option>
          <option value="Rejected">Rejected</option>
        </select>

        <textarea 
          class="remarks-box"
          placeholder="Remarks (optional)"
          [(ngModel)]="c.resultRemarks">
        </textarea>

        <button 
          class="submit-result-btn" 
          (click)="submitInterviewResult(c.id, c.selectedResult, c.resultRemarks)">
          Submit Result
        </button>
      </div>

    </div>
  </div>

</div>
